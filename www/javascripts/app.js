(function(){var a=function(b,c){return function(){return b.apply(c,arguments)}};$(function(){var b,d,c;if(!navigator.geolocation){alert("fuck")}c=console.log;b=(function(){function e(){this.draw=a(this.draw,this);this.setupClient=a(this.setupClient,this);this.getLocation=a(this.getLocation,this);this.text=$("#text");this.getLocation()}e.prototype.getLocation=function(){this.text.text("Finding your location...");console.log("getLocation");return navigator.geolocation.getCurrentPosition(a(function(g){var f;f=[g.coords.latitude,g.coords.longitude],this.lat=f[0],this.lng=f[1];return this.setupClient()},this))};e.prototype.setupClient=function(){var g,f;this.text.text("Finding a place to eat...");console.log("setupClient");this.client=new simplegeo.PlacesClient("JACRMaRvrLkB2xfymFcdqec8myfWuNcE");f=function(h){return h.features[Math.floor(Math.random(h.total)*26)]};window.callbackHandler=g=function(i,j){var h;h=f(j);d.text.text("eat at "+h.properties.name);console.log(h);return d.draw(h.properties)};return this.client.search(this.lat,this.lng,{category:"food"},callbackHandler)};e.prototype.draw=function(){return console.log("draw")};return e})();return d=new b})}).call(this);